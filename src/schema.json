{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://ba.kjellhanken.de/schema.json",
  "title": "Decision Tree",
  "type": "object",
  "properties": {
    "title": { "type": "string" },
    "description": { "type": "string" },
    "name": { "type": "string" },
    "info": { "type": "string" }
  },
  "required": ["name", "title", "description"],
  "oneOf": [
    {
      "properties": {
        "children": {
          "$ref": "#/$defs/children"
        }
      }
    },
    {
      "properties": {
        "end": {
          "$ref": "#/$defs/end"
        }
      }
    }
  ],
  "$defs": {
    "children": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "answer": { "type": "string" },
          "name": { "type": "string" },
          "info": { "type": "string" }
        },
        "oneOf": [
          {
            "properties": {
              "children": {
                "$ref": "#/$defs/children"
              }
            }
          },
          {
            "properties": {
              "end": {
                "$ref": "#/$defs/end"
              }
            }
          }
        ]
      },
      "required": ["answer", "children"],
      "minItems": 2
    },
    "end": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "info": { "type": "string" },
          "link": { "type": "string" }
        },
        "required": ["name", "info"]
      },
      "minItems": 1
    }
  }
}
